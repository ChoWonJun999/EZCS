{% extends 'accountsLayout.html' %}
{% block title %}회원 가입{% endblock %}

{% block content %}
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<form id="signupForm" data-url="{% url 'accounts:signup' %}" data-csrf="{{ csrf_token }}">
    <div class="container-sm my_container">
        <div>
            <h2>회원가입</h2>
        </div>
        <div class="form-floating mb-3 my-form">
            <input type="text" class="form-control" id="loginUsername" name="loginUsername" maxlength="41">
            <label for="loginUsername">ID</label>
            <!--추가-->
            <div id="usernameError" class="invalid-feedback"></div>
        </div>
        <div class="form-floating mb-3 my-form">
            <input type="text" class="form-control" id="name" name="name" maxlength="10">
            <label for="name">사용자 이름</label>
            <div id="nameError" class="error-message"></div>
        </div>
        <div>
            <label for="birthdate">생년월일</label>
        </div>
        <div class="form-floating mb-3 form-date ">
            <input type="date" id="birthdate" name="birthdate">
        </div>
        <div class="form-floating mb-3 my-form">
            <input type="password" class="form-control" id="password" name="password" maxlength="64">
            <label for="password">비밀번호</label>
        </div>
        <div class="form-floating mb-3 my-form">
            <input type="password" class="form-control" id="pwChk" name="pwChk" maxlength="64">
            <label for="pwChk">비밀번호 확인</label>
            <!--추가-->
            <div id="passwordError" class="error-message"></div>
        </div>
        <div class="form-floating mb-3 my-form">
            <input type="tel" class="form-control" id="phone" name="phone" maxlength="15">
            <label for="phone">전화번호</label>
            <div id="phoneError" class="error-message"></div>
        </div>
        <div style="display: flex;">
            <div class="form-floating mb-3 my-form">
                <input type="email" class="form-control" id="email" name="email" maxlength="41">
                <label for="email">email</label>
                <div id="emailError" class="invalid-feedback"></div>
            </div>
            <span style="font-size: 40px;">@</span>
            <div class="form-floating mb-3 my-form" style="display: flex;">
                <input type="text" class="form-control" id="emailadd" name="emailadd" data-bs-toggle="dropdown" onclick="toggleDropdown()" value="naver.com" style="background-color: #fff; color: #000; font-family: Arial, sans-serif;">
                <label for="emailadd">emailadd</label>
                <ul class="dropdown-menu" id="emailDropdown">
                    <li><a class="dropdown-item" href="#" onclick="setEmailDomain('naver.com')">naver.com</a></li>
                    <li><a class="dropdown-item" href="#" onclick="setEmailDomain('gmail.com')">gmail.com</a></li>
                    <li><a class="dropdown-item" href="#" onclick="setEmailDomain('daum.net')">daum.net</a></li>
                    <li><a class="dropdown-item" href="#" onclick="setEmailDomain('nate.com')">nate.com</a></li>
                    <li><a class="dropdown-item" href="#" onclick="enableDirectInput()">직접입력</a></li>
                </ul>
            </div>

        </div>
        <div>
            <div class="col-sm-10">
                <label for="zipp_btn" class="form-label">주소</label><br />
                <input type="text" class="form-control mb-2" id="addressCode" name="addressCode" maxlength="10" placeholder="우편번호" style="width: 50%; display: inline;" disabled>
                <input type="button" id="zipp_btn" class="btn btn-primary" onclick="execDaumPostcode()" value="우편번호 찾기"><br>
                <input type="text" class="form-control mb-2" name="user_add1" id="UserAdd1" maxlength="40" placeholder="기본 주소를 입력하세요" required disabled>
                <div class="invalid-feedback">주소를 입력해주시기 바랍니다!</div>
                <input type="text" class="form-control" name="user_add2" id="UserAdd2" maxlength="40" placeholder="상세 주소를 입력하세요">
                <div id="userAdd2Error" class="error-message"></div>
            </div>
        </div>

        <div>
            <input type="button" value="회원 요청" class="btn btn-outline-primary" style="width: 5cm;" onclick="signup()">
        </div>
        <div>
            <p>
                <a href="{% url 'accounts:login' %}"> 로그인으로 돌아가기</a>
            </p>
        </div>
    </div>
</form>
{% endblock %}