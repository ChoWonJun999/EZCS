{% extends 'base.html' %}

{% block title %}Education Dashboard{% endblock %}
{% block content %}
{% load static %}

<link rel="stylesheet" href="{% static 'education/css/styles.css' %}">

<div class="dashboard">

    <div id="category-selection" class="top-section">
        <div class="category-select">
            <select id="category" class="form-select">
                <option value="모바일 > 부가서비스">부가서비스</option>
                <option value="모바일 > 서비스정책">서비스정책</option>
                <option value="모바일 > 요금관련">요금관련</option>
            </select>
            <button id="select-button" onclick="selectCategory()">선택</button>
        </div>
    </div>
    <div id="chatbot-section" class="sections" style="display: none;">
        <div class="section chat-section">
            <div class="chat-header">민서님 요청사항</div>
            <!-- 위의 HTML 코드를 여기에 삽입합니다 -->
            <div class="chat-container">
                <div id="chat-content" class="chat-box" style="white-space: pre-line;"><!--줄바꿈-->
                    <!-- 메시지가 여기에 추가됩니다 -->
                </div>
                <div class="category-select">
                    <select id="category" class="form-select">
                        <option value="모바일 > 부가서비스">부가서비스</option>
                        <option value="모바일 > 서비스정책">서비스정책</option>
                        <option value="모바일 > 요금관련">요금관련</option>
                    </select>
                    <button id="select-button" onclick="selectCategory()">선택</button>
                </div>
                <form id="chat-form" action="/education/" method="post" onsubmit="sendMessage(event)">
                    {% csrf_token %}
                    <div class="input-container">
                        <textarea id="question" name="message" placeholder="message..." oninput="autoResize.call(this)"></textarea>
                        <button id="text-button" type="submit">Send</button>
                    </div>
                </form>
            </div>
            <form id="chat-form" action="/education/" method="post" onsubmit="sendMessage(event)">
                {% csrf_token %}
                <div class="input-container">
                    <textarea id="question" name="message" placeholder="message..." oninput="autoResize.call(this)"></textarea>
                    <button id="text-button" type="submit">Send</button>
                </div>
            </form>
            <div class="section chat-section-readonly">
                <div class="chat-header">읽기 전용 채팅창</div>
                <div class="chat-messages" id="chat-messages-readonly">
                    <!-- 채팅 메시지들이 여기에 표시됩니다. -->
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
{% endblock %}